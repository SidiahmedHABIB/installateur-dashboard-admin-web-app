<!-- CONTENT -->
<section id="content">


  <!-- MAIN -->
  <main>
    <div class="head-title">
      <div class="left">
        <h1>Company</h1>
        <ul class="breadcrumb">
          <li>
            <a href="#">Company</a>
          </li>
          <li><i class='bx bx-chevron-right'></i></li>
          <li>
            <a class="active" href="#">List</a>
          </li>
          <li><i class='bx bx-chevron-right'></i></li>
          <li>
            <a class="active" href="#">Details</a>
          </li>
        </ul>
      </div>
    </div>

    <div class="table-data">
      <div class="list">
        <!-- table header  -->
        <div class="head">
          <h4>All Companies Boxes</h4>
          <button style="border: none;" data-bs-toggle="modal" data-bs-target="#addCompany"><span class="filter">Add
              box
              <i class="bi bi-person-fill-add"></i></span></button>
        </div>
        <!-- table header  -->
        <table>
          <thead>
            <tr>
              <th>Images</th>
              <th>Name</th>
              <th>Entity</th>
              <th>Matrical</th>
              <th>Nserial</th>
              <th>Status</th>
              <th>Report</th>
              <th>Delete</th>
              <th>Edit</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let b of boxes ; let i=index">
              <td>
                <ng-container *ngIf="b.status==='INSTALLED'; else noImage">
                  <button style="border: none;"><span class="status completed">Show</span></button>
                </ng-container>
                <ng-template #noImage>
                  <button style="border: none;"><span class="status pending">Show</span></button>
                </ng-template>
              </td>
              <td>{{b.name}} </td>
              <td>{{b.entity}}</td>
              <td>{{b.matricul}}</td>
              <td>{{b.nserie}}</td>
              <td>{{b.status}}</td>
              <td>
                <ng-container *ngIf="b.reportBox!==null; else noReport">
                  <a href="http://localhost:8081/report/download/{{b.reportBox.name}}"><span
                      class="status completed">Download PDF</span></a>
                </ng-container>
                <ng-template #noReport>
                  <button style="border: none;"><span class="status pending">Download PDF</span></button>
                </ng-template>
              </td>
              <td><button style="border: none;"><span class="status delete"> <i
                      class="bi bi-trash-fill"></i></span></button>
              </td>
              <td><button style="border: none;" data-bs-toggle="modal" data-bs-target="#editUser"><span
                    class="status completed"> <i class="bi bi-pencil"></i></span></button></td>
            </tr>
          </tbody>
        </table>
        <!-- table footer  -->
        <div class="footer">
          <button style="border: none;" (click)="handlegoToNextPage(i)"
            *ngFor="let item of [].constructor(this.totalPages);let i = index" data-bs-toggle=""
            data-bs-target="#"><span [ngClass]="i==currentPage?'page-active':'page'" class="">{{i+1}}</span></button>

        </div>
        <!-- table footer  -->
      </div>

    </div>
  </main>
  <!-- MAIN -->
</section>
<!-- CONTENT -->